<app-banner></app-banner>
<div class="btn-container" *ngIf="!maintenanceModeEnabled">
    <div *ngIf="tapURLFlag === 'withTapURL'">
        <form [formGroup]="filterForm" (ngSubmit)="todayReport()">
            <div class="row d-flex justify-content-start">
                <div class="col-2">
                    <h2 id="main-title" style="margin-bottom: 0%; margin-top: 5%;">Report for today</h2>
                </div>
                <div class="col-4">
                    <div class="row" id="form">
                        <mat-form-field style="margin-bottom: -1.25em" class="col" appearance="outline">
                            <mat-label id="type-filter-label">Choose report type</mat-label>
                            <mat-select formControlName="todayReportType">
                                <mat-option *ngFor="let type of reportsTypes" [value]="type">
                                    {{type}}
                                </mat-option>
                            </mat-select>
                            <button *ngIf="filterForm.get('todayReportType').value" matSuffix mat-icon-button aria-label="Clear"
                                (click)="filterForm.get('todayReportType').setValue('')">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-3">
                    <button class=" mt-2 custom-btn" mat-raised-button id="submit-filters" [disabled]="todaySearchFlag"
                        type="submit">
                      Search 
                    </button>
                </div>
                <div class="col-auto ms-auto justify-content-end gy-3">
                    <button class="me-1" mat-raised-button type="button" (click)="searchConsolidatedReport()"
                        id="add-customer-button">Search consolidated report</button>
                </div>
            </div>
        </form>
    </div>
    <div  *ngIf="tapURLFlag === 'withTapURL'">
        <div class="row">
            <div class="col" style="margin-top: 1%;">
                <h2 id="sub-title">Pick from the reports autogenerated for you</h2>
            </div>
            <section style="margin-bottom: 1%;">
                <div class="flex-container">
                  <div class="banner-container">
                    <mat-button-toggle-group [formControl]="fontStyleControl" aria-label="Font Style"
                      (change)="onChangeButtonToggle()">
                      <mat-button-toggle [checked]="buttonFlag" id="calling-button" [value]="CALLING">{{CALLING | titlecase}}</mat-button-toggle>
                      <mat-button-toggle id="feature-button"  [value]="FEATURE">{{FEATURE | titlecase}}</mat-button-toggle>
                      <mat-button-toggle id="feature-button"  [value]="VOICE">{{VOICE}}</mat-button-toggle>
                    </mat-button-toggle-group>
                  </div>
                </div>
            </section>
        </div>
        <section class="table-section">
            <div class="table-container mat-elevation-z8" [style.max-height.px]="tableMaxHeight">
                <app-data-table [tableData]="dateListBK" [tableColumns]="displayedColumns" [isFilterable]="false"
                    [isPageable]="false" [isLoadingResults]="isLoadingResults" (rowAction)="rowAction($event)" [isRequestCompleted]="isRequestCompleted"
                    [paginationSizes]="[5,10,20]" [defaultPageSize]="5" (sort)="sortData($event)"
                    [rowActionIcon]="actionMenuOptions.length === 0 && 'search'">
                </app-data-table>
            </div>
        </section>
    </div>
    <div *ngIf="tapURLFlag === 'withoutTapURL'">
        <div class='text-container'>
            <mat-card class="example-card">
                <mat-card-header>
                  <mat-card-title>Missing TAP URL</mat-card-title>
                  <mat-card-subtitle ></mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                  <p class='text-content1'>The TAP instance associated with this customer wasn't configured, please contact your service provider</p>
                </mat-card-content>
              </mat-card>
        </div>
    </div>
    <div class="missing-setup-data" *ngIf="tapURLFlag === 'withoutData'">
        <div class='text-container'>
            <mat-card class="example-card">
                <mat-card-header>
                  <mat-card-title>Missing data</mat-card-title>
                  <mat-card-subtitle ></mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                  <p class='text-content2'>Unable to find a UCaaS Continuous Testing Setup for this Customer, please contact your service provider</p>
                </mat-card-content>
              </mat-card>
        </div>
    </div>
</div>
