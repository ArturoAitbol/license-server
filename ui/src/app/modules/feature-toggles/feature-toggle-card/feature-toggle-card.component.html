<mat-expansion-panel>
    <mat-expansion-panel-header>
        <div class="ft-container">
            <span id="ft-dot" class="dot" [ngClass]="getFtDotClass()"></span>
            <div class="name">
                <span id="name">{{ featureToggle.name }}</span>
            </div>
            <div class="description">
                <span id="description">{{ featureToggle?.description || "" }}</span>
            </div>
            <div class="author-label">
                <span id="author-label">Author:</span>
            </div>
            <div class="author">
                <span id="author"> {{ featureToggle?.author || "" }}</span>
            </div>
            <button mat-icon-button color="warn" title="Delete Feature Toggle"
                    class="delete-ft" (click)="deleteFeatureToggle()" id="deleteFtBtn">
                <mat-icon>delete</mat-icon>
            </button>
            <mat-slide-toggle id="ft-toggle" title="Toggle Feature" (click)="$event.stopPropagation()" (change)="toggleFeature($event)" color="primary" class="toggle" [checked]="featureToggle.status"></mat-slide-toggle>
        </div>
    </mat-expansion-panel-header>
    <div class="separator mb-3"></div>
    <h2 id="exceptions-title">Exceptions</h2>
    <div class="mt-3" *ngFor="let exception of featureToggle?.exceptions; index as i">
        <div class="exception-container">
            <span id="exception-dot" class="dot" [ngClass]="{'ft-enabled': exception.status}"></span>
            <div class="customerName">
                <label id="customer-label">Customer:</label>
                <span id="customer-name"> {{ exception.customerName }}</span>
            </div>
            <div class="subaccountName">
                <label id="subaccount-label">Subaccount:</label>
                <span id="subaccount-name"> {{ exception.subaccountName }}</span>
            </div>
            <button mat-icon-button color="warn" title="Delete FT Exception" id="deleteExBtn"
                    class="delete-ex" (click)="deleteException(exception, i)">
                <mat-icon>delete</mat-icon>
            </button>
            <mat-slide-toggle id="exception-toggle" title="Toggle Exception" color="primary" class="toggle" [checked]="exception.status" (change)="toggleException($event, i)"></mat-slide-toggle>
        </div>
    </div>
    <div class="d-flex flex-row-reverse">
        <button mat-mini-fab color="primary" type="button" class="mt-3 mb-3 add-exception" id="addButton" title="Add FT Exception" (click)="addException()">
            <mat-icon>add</mat-icon>
        </button>
    </div>
</mat-expansion-panel>
