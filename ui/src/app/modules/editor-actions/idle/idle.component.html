<div class="modal-header" draggableModal>
  <label class="modal-title">Idle</label>
  <button type="button" class="close pull-right" aria-label="Close" (click)="cancel()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<form (keydown.enter)="$event.preventDefault()" #myActionForm="ngForm">
  <div class="modal-body">

    <div class="mycontainer">
      <div cdkDropListGroup>
        <div class="row">
          <div class="col-4">
            <div class="elements-container">
              <h2>Resources</h2>
              <div cdkDropList [cdkDropListData]="resources" class="elements-list" cdkDropListSortingDisabled>
                <div class="item-box" *ngFor="let resource of resources" cdkDrag [cdkDragData]="resource">
                  {{resource.name}}
                </div>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div class="elements-container">
              <h2>To Idle</h2>
              <div cdkDropList [cdkDropListData]="resourcesToIdle" class="elements-list"
                (cdkDropListDropped)="drop($event)">
                <div class="item-box" *ngFor="let resource of resourcesToIdle" cdkDrag #pop="bs-popover"
                  [popover]="popTemplate" placement="right" [isOpen]="!resource.selectedLine">
                  {{resource.name}} <span class="selected-line" *ngIf="resource.selectedLine"> Selected:
                    {{resource.line}}</span>
                  <ng-template #popTemplate>
                    <div class="row">
                      <div class="col-1">
                        <label class="phone-label">Line</label>
                      </div>
                      <div class="col-6">
                        <select class="custom-select" [(ngModel)]="resource.line" id="line" name="line">
                          <option selected value="all">All</option>
                          <option *ngFor="let line of lines" value="{{line}}">{{line}}</option>
                        </select>
                      </div>
                      <div class="col-1">
                        <button class="scs-btn" (click)="onSelectLine();pop.hide()">Select</button>
                      </div>
                    </div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="modal-footer">
    <div *ngIf="title" class="mr-auto"
      style="background-color: #7694B7; height: 30px; width: 30px; border-radius: 100%; margin-top:-2%">
      <img src="assets/images/icons/info.svg" title="{{title}}" style="width:30px; height:30px;">
    </div>
    <button (click)="cancel()" class="modal-cancel-btn">
      Cancel
    </button>
    <button class="modal-scs-btn" (click)="createActions()" [disabled]="!myActionForm.form.valid">
      Insert Action
    </button>
  </div>
</form>